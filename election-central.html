<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>JSONP Request</title>
    <style type="text/css">
      .photo {
        font-weight: bold;
        margin: 10px 0px 0px 0px;
        padding: 0px;
      }

      .name {
        margin: 0px;
        padding: 0px;
      }
    </style>

    <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js">
    </script>
    <script type="text/javascript">
      function initialize() {
        var query = "SELECT Name, Committee, Classification, 'Legislation Authored', Photo FROM " +
            '1mQXVY2fdbKqduhwyRpzywqqnfdS27k2YnBXAP9NE';
        var encodedQuery = encodeURIComponent(query);

        // Construct the URL
        var url = ['https://www.googleapis.com/fusiontables/v1/query'];
        url.push('?sql=' + encodedQuery);
        url.push('&key=AIzaSyBpucsUNf8LQ9VMFS-9E_zRcdhcFlrNm4U');
        url.push('&callback=?');

        // Send the JSONP request using jQuery
        $.ajax({
          url: url.join(''),
          dataType: 'jsonp',
          success: function (data) {
          	console.log(data);
            var rows = data['rows'];
            var ftData = document.getElementById('ft-data');
            for (var i in rows) {
              var photo = rows[i][1];
              var name = rows[i][2];
              var dataElement = document.createElement('div');
              var photoElement = document.createElement('p');
              photoElement.innerHTML = photo;
              photoElement.className = 'photo';
              var nameElement = document.createElement('p');
              nameElement.innerHTML = name;
              nameElement.className = 'name';

              dataElement.appendChild(photoElement);
              dataElement.appendChild(nameElement);
              ftData.appendChild(dataElement);
            }
          }
        });
      }
    </script>
  </head>
  <body onload="initialize()">
    <div id="ft-data"></div>
  </body>
</html>